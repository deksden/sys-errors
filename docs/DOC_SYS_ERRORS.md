# –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (docs/errors/DOC_SYS_ERRORS.md, v0.1.7)

## üéØ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

SYS_ERRORS –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ. 

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîÑ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã
- üìù –°–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π
- ‚õìÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ (error chaining)
- üìã –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ "–æ—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏"
- üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—à–∏–±–æ–∫
- üìä –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- üîç –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è


## üì¶ –ö–ª–∞—Å—Å `SystemError`

–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ —Å–∏—Å—Ç–µ–º—ã. –†–∞—Å—à–∏—Ä—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Error –∏ –æ–±–æ–≥–∞—â–∞–µ—Ç –µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã. –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é createError. –ß–∞—â–µ –≤—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–∞–±—Ä–∏–∫—É –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—à–∏–±–∫–∏.

### –°–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞ `SystemError`:

- `code`: `string` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "SYS_VALIDATION_FAILED")
- `message`: `string` - –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- `msg`: `string` - –®–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ (–≤–æ–∑–º–æ–∂–Ω–æ, —Å –∫–ª—é—á–∞–º–∏)
- `subsystem`: `string` - –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
- `context`: `Object` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–± –æ—à–∏–±–∫–µ
- `recoverable`: `boolean` - –§–ª–∞–≥ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- `original`: `Error` - –ò—Å—Ö–æ–¥–Ω–∞—è –æ—à–∏–±–∫–∞ (–¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫)
- `docs`: `string?` - –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –æ—à–∏–±–∫–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ `SystemError`:

#### `constructor(definition, context?, originalError?, options?)`
```javascript
const error = new SystemError({
  code: 'EXAMPLE_ERROR',
  message: 'Error occurred: {reason}',
  subsystem: 'example',
  recoverable: true,
  contextKeys: ['reason']
}, {
  reason: 'invalid data'
})
```

#### `format(): string`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–æ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–æ–π (—á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ .original –¥–ª—è ):
```javascript
error.format()
// –í—ã–≤–æ–¥–∏—Ç:
// Error occurred: invalid data
// Context: { reason: 'invalid data' }
// From subsystem: example
// See: <link to docs if present>
// Caused by: <original error details if present>
```

#### `toJSON(): Object`
–°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –æ—à–∏–±–∫—É –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —É—Ä–æ–≤–Ω–∏ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ .original:
```javascript
error.toJSON()
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
{
  name: 'SystemError',
  code: 'EXAMPLE_ERROR',
  message: 'Error occurred: invalid data',
  subsystem: 'example',
  context: { reason: 'invalid data' },
  recoverable: true,
  docs: '...',
  stack: '...',
  original: { /* original error if present */ }
}
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞ `SystemError`:

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π**
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏: `{key}`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
   - –ë–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è

2. **–¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫**
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä originalError –∏ —Å–≤–æ–π—Å—Ç–≤–æ .original
   - –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –≤ —Ü–µ–ø–æ—á–∫–µ –∏–º–µ–µ—Ç —Å–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É –ø—Ä–∏ –≤—ã–≤–æ–¥–µ
   - –°–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ —É—Ä–æ–≤–Ω–∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

3. **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**
   - –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç –∫–æ–¥–∞ –æ—à–∏–±–∫–∏
   - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ required contextKeys
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–æ–∫

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Ñ–∞–π–ª errors-xxx.js

–ö–∞–∂–¥–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–∏ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –≤ —Ñ–∞–π–ª–µ `errors-–∏–º—è_–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.js`. 

–î–ª—è –∫–æ–¥–æ–≤ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ jsDoc –¥–ª—è –∫–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –¥–ª—è –∫–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —ç—Ç–æ—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç—ç–≥–∏ @file, @function:

```javascript
// src/database/errors-database.js
export const DATABASE_ERROR_CODES = {
  CONNECTION_FAILED: {
    code: 'DB_CONNECTION_FAILED',
    message: 'Failed to connect to database at {uri}',
    subsystem: 'database',
    recoverable: true,
    contextKeys: ['uri'],
    docs: 'docs/errors/database.md#connection-failed'
  },

  /** –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
   * @file: database-create-record.js
   * @function: createRecord
   */
  CREATE_RECORD_FAILED: {
    code: 'DB_CREATE_RECORD_FAILED',
    message: 'Failed to create record {record_id}',
    subsystem: 'database',
    recoverable: true,
    contextKeys: ['record_id'],
    doc: 'docs/errors/database.md#create-record-failed'
  }
  
  // ... –¥—Ä—É–≥–∏–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã
}
```

## –§—É–Ω–∫—Ü–∏–∏-—Ñ–∞–±—Ä–∏–∫–∏ –æ—à–∏–±–æ–∫  –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Ñ–∞–π–ª error-fabs-xxx.js

–ö–∞–∂–¥–∞—è –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤–æ–∏—Ö –æ—à–∏–±–æ–∫ –≤ —Ñ–∞–π–ª–µ `error-fabs-–∏–º—è_–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.js`. 

–î–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏, —É–∫–∞–∑—ã–≤–∞–µ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ jsDoc –¥–ª—è –∫–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ –¥–ª—è –∫–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —ç—Ç–∞ –æ—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç—ç–≥–∏ @file, @function, @error-code).

–î–ª—è –æ–±—ã—á–Ω—ã—Ö –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö, —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–¥ –æ—à–∏–±–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ—à–∏–±–∫–∏ (—Ç—ç–≥ @error-code)

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞:
```javascript
// src/database/error-fabs-database.js
import { createError } from '../errors/errors.js'
import { DATABASE_ERROR_CODES } from './errors-database.js'


/** –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
 * @error-code: DATABASE_ERROR_CODES.CONNECTION_FAILED,
 */
export function createConnectionError(config, originalError) {
  return createError(
    DATABASE_ERROR_CODES.CONNECTION_FAILED,
    { uri: config.uri },
    originalError
  )
}

/** –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
 * @file: database-create-record.js
 * @function: createRecord
 * @error-code: DATABASE_ERROR_CODES.CREATE_RECORD_FAILED
 */
export function createCreateRecordError(record_id, originalError) {
  return createError(
    DATABASE_ERROR_CODES.CREATE_RECORD_FAILED,
    { record_id },
    originalError
  )
}

```

## üõ†Ô∏è API –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã SYS_ERRORS, —Ñ–∞–π–ª `errors.js`

### –§—É–Ω–∫—Ü–∏—è `createError()`

–°–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –æ—à–∏–±–∫—É —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

```javascript
function createError(
  errorDefinition, // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∏–∑ ERROR_CODES
  context?,        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  originalError?,  // –ò—Å—Ö–æ–¥–Ω–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è —Ü–µ–ø–æ—á–∫–∏
  options?         // –û–ø—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è
)
```

### –§—É–Ω–∫—Ü–∏—è `checkErrorChain()`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π —Å—Ö–µ–º–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Ç–µ—Å—Ç–∞—Ö.

```javascript
function checkErrorChain(
  error,            // –ü—Ä–æ–≤–µ—Ä—è–µ–º–∞—è –æ—à–∏–±–∫–∞
  expectedChain     // –ú–∞—Å—Å–∏–≤ –æ–∂–∏–¥–∞–µ–º—ã—Ö —É—Ä–æ–≤–Ω–µ–π –≤ —Ü–µ–ø–æ—á–∫–µ
)
```

–ü–∞—Ä–∞–º–µ—Ç—Ä `expectedChain` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Ü–µ–ø–æ—á–∫–∏:
```javascript
[
  { 
    code: 'ERROR_CODE',              // –û–∂–∏–¥–∞–µ–º—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏
    type: 'SystemError',             // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ–∂–∏–¥–∞–µ–º—ã–π —Ç–∏–ø/–∫–ª–∞—Å—Å
    message: '—Ç–µ–∫—Å—Ç –∏–ª–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞'  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  },
  { 
    code: 'ANOTHER_CODE',
    message: ['–∫–ª—é—á–µ–≤–æ–µ', '—Å–ª–æ–≤–æ']   // –ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
  }
]
```
## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫, –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ SYS_ERRORS

–ë–∞–∑–æ–≤—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ SYS_ERRORS, —Ñ–∞–π–ª errors.js, –æ–±—ä–µ–∫—Ç `ERROR_CODES.SYS`:

```javascript
SYS: {
  // –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  INITIALIZATION_FAILED: {
    code: 'SYS_INIT_FAILED',
    message: 'System initialization failed: {reason}'
  },

  // –ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
  UNEXPECTED: {
    code: 'SYS_UNEXPECTED',
    message: 'Unexpected error: {reason}'
  },

  // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  VALIDATION_FAILED: {
    code: 'SYS_VALIDATION_FAILED',
    message: 'Validation failed: {reason}'
  },

  // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  NOT_IMPLEMENTED: {
    code: 'SYS_NOT_IMPLEMENTED',
    message: 'Feature not implemented: {feature}'
  },

  // –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
  INVALID_ARGUMENT: {
    code: 'SYS_INVALID_ARGUMENT',
    message: 'Invalid argument {name}: {reason}'
  }
}
```

## üéØ –ü–∞—Ç—Ç–µ—Ä–Ω "—Å–æ–∑–¥–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é —Ñ–∞–±—Ä–∏–∫—É"

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É —Ñ—É–Ω–∫—Ü–∏—é (–∏–∑ error-fabs-xxx.js –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ - –æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—à–∏–±–æ–∫ —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞:
	- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
	- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ —Å–ª–µ–¥—É–π—Ç–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏

## üéØ –ü–∞—Ç—Ç–µ—Ä–Ω—ã "–¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫", "–æ—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏"

–í —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞–∂–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ - —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –≤ —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫. 

–î–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –æ—à–∏–±–∫–∏ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –≠—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –∫–∞–∫ –ø—É–±–ª–∏—á–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —Ç–∞–∫ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω —Ç–æ–ª—å–∫–æ —Å —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –æ–Ω —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏, –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é —ç—Ç–æ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –æ—à–∏–±–∫–∏. 

–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ jsDoc —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –í—Å–µ –æ—à–∏–±–∫–∏, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º—ã–µ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–∫–∞–∫ –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ, —Ç–∞–∫ –∏ –≤–æ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö), –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —ç—Ç—É –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–∏ "database create" –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∫–æ–¥ `DATABASE_CREATE_FAILED`. 

–ü–æ–º–∏–º–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏, –≤–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –ª—é–±—ã–µ –∏–Ω—ã–µ –æ—à–∏–±–∫–∏, –Ω–æ –æ–Ω–∏ –≤—Å–µ "–æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è" –≤ –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Å—Ö–æ–¥–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ –æ—à–∏–±–∫–∏. 

–ù–∞—à –∫–æ–¥ –≤—Å–µ–≥–¥–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –∫–ª–∞—Å—Å–∞ SystemError —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É —Ñ—É–Ω–∫—Ü–∏—é. –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫ - –∏–ª–∏ –æ–±—ã—á–Ω—ã–π Error –∏–ª–∏ –∏–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫. –û–Ω–∏ —Ç–∞–∫–∂–µ –æ–±—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä `originalError` —Ñ–∞–±—Ä–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–≤–æ–π—Å—Ç–≤–æ `.original` –∫–ª–∞—Å—Å–∞ `SystemError`.

–ü—Ä–∏ —Å–±–æ–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –æ—à–∏–±–∫–∏ –∫–ª–∞—Å—Å–∞ `SystemError` –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Ñ–∞–±—Ä–∏–∫–∞-—Ñ—É–Ω–∫—Ü–∏—è —ç—Ç–æ–π –æ—à–∏–±–∫–∏.  

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `checkErrorChain()`. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—é –∏–µ—Ä–∞—Ä—Ö–∏—é –æ—à–∏–±–æ–∫ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –≤–∫–ª—é—á–∞—è –∫–æ–¥—ã –æ—à–∏–±–æ–∫, —Ç–∏–ø—ã –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–π. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é –æ—à–∏–±–æ–∫.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è jsDoc**: –ü—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ jsDoc —Ñ—É–Ω–∫—Ü–∏–∏, –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ original (–∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ). –£–ø–æ–º–∏–Ω–∞–µ–º –ø—Ä–æ –æ—à–∏–±–∫–∏ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –º–æ–¥—É–ª–µ–π.  

**–î–µ—Ä–µ–≤–æ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ –≤ —Å–ª–æ–∂–Ω–æ–π —Ü–µ–ø–æ—á–∫–µ**: –ï—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–∞ —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–≤ —Å–ª—É—á–∞–µ –≤—ã–∑–æ–≤–∞ –æ–¥–Ω–æ–π –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –¥—Ä—É–≥–æ–π –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫–∏ –≤ —Å–≤–æ—é –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏), –ø–æ–º–∏–º–æ –∫–æ–¥–∞ –æ—à–∏–±–∫–∏ –¥—Ä—É–≥–æ–π –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º —Å–∞–º—É –Ω–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —É–≤–∏–¥–µ—Ç—å –≤ –µ—ë –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫–∞–∫–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å. –¢–∞–∫–∂–µ –º—ã —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ –º–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫.
### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

1. –§—É–Ω–∫—Ü–∏—è, –≤—ã–ø–æ–ª–Ω—è—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—é, –≤—Å–µ–≥–¥–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–¥ –≤—Ä–æ–¥–µ XXX_OPERATION_FAILED), –≤—Å–µ –ø—Ä–æ—á–∏–µ –æ—à–∏–±–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —ç—Ç—É –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ –ø–æ–ª–µ .original –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ–∞–±—Ä–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ originalError;
2. –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `.original` —ç—Ç–æ–π –æ—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. –í `original` –º–æ–∂–µ—Ç –±—ã—Ç—å:
   - –°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ SystemError) –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –ù–∞—à–∞ –æ—à–∏–±–∫–∞ (SystemError) –∏–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫
4. –í—Å–µ "–Ω–∞—à–∏" –æ—à–∏–±–∫–∏ –∫–ª–∞—Å—Å–∞ SystemError –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `error-fabs-` –º–æ–¥—É–ª—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –∏ —è–≤–ª—è—é—Ç—Å—è SystemError

### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –ë–î

```javascript
// –ö–æ–¥ –≤ Database –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ
async function saveObject(obj) {
  try {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞
    if (!isValid(obj)) {
      // –°–æ–∑–¥–∞–µ–º –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
      throw createValidationError(obj)  // DATABASE_OBJECT_VALIDATION_FAILED
    }

    // –ü–æ–ø—ã—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    await db.save(obj)
    
  } catch (error) {
    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –ª—é–±—É—é –æ—à–∏–±–∫—É (–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –ë–î) –≤ –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏
    throw createSaveError(obj, error)   // DATABASE_OBJECT_SAVE_FAILED
  }
}
```

### –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏

```javascript
try {
  await database.saveObject(data)
} catch (error) {
  // error.code === 'DATABASE_OBJECT_SAVE_FAILED'
  // error.original –º–æ–∂–µ—Ç –±—ã—Ç—å:
  // 1. Error –∏–∑ –ë–î: new Error('Duplicate key')
  // 2. SystemError: DATABASE_OBJECT_VALIDATION_FAILED
  
  console.log(error.format())
  // Failed to save object: validation failed
  // Caused by: Invalid object structure
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

- –í—Å–µ–≥–¥–∞ –ø–æ–Ω—è—Ç–Ω–æ –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ (–∫–æ–¥ –æ–ø–µ—Ä–∞—Ü–∏–∏)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
- –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –æ—à–∏–±–∫–∏
- –£–ø—Ä–æ—â–∞–µ—Ç—Å—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É —á–µ—Ä–µ–∑ originalError
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–±—Ä–∏–∫–∏ –æ—à–∏–±–æ–∫ –ø–æ–¥—Å–∏—Å—Ç–µ–º
- –ù–µ —Ç–µ—Ä—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ code
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ isRecoverable –¥–ª—è retry –ª–æ–≥–∏–∫–∏
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ —Å–æ –≤—Å–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ—à–∏–±–æ–∫

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–π–ª `errors-–∏–º—è_–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.js`
- –û–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–¥—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ recoverable –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫ –æ—à–∏–±–æ–∫

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–π–ª `error-fabs-–∏–º—è_–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã.js`
- –î–µ–ª–∞–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –æ—à–∏–±–æ–∫
- –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –æ—à–∏–±–∫–∏

## üìö –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```javascript
import { createProcessingError, createValidationError } from './error-fabs-module.js'

async function processItem(item) {
  try {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!isValid(item)) {
      throw createValidationError('Invalid item format')
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞
    try {
      return await processItemData(item)
    } catch (error) {
      throw createProcessingError(
        item.id,
        'Data processing failed',
        error
      )
    }
  } catch (error) {
    logger.error({ error }, 'Item processing failed')
    throw error
  }
}
```
## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
try {
  await operation()
} catch (error) {
  if (typeof error === SystemError && error?.code? === ERROR_CODES.SYS.VALIDATION_FAILED.code) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    console.log('Validation error:', error.message)
  } else if (isRecoverable(error)) {
    // –ü–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
    await retry(operation)
  } else {
    // –ü—Ä–æ–±—Ä–æ—Å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
    throw error
  }
}
```

### –¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫

```javascript
async function readUserData(userId) {
  try {
    const data = await db.query('SELECT * FROM users WHERE id = ?', [userId])
    return JSON.parse(data)
  } catch (dbError) {
    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –æ—à–∏–±–∫—É –ë–î
    const queryError = createError(
      ERROR_CODES.SYS_DB.QUERY_FAILED,
      {
        query: 'SELECT user',
        params: userId
      },
      dbError
    )

    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ –æ—à–∏–±–∫—É –æ–ø–µ—Ä–∞—Ü–∏–∏
    throw createError(
      ERROR_CODES.SYS.OPERATION_FAILED,
      {
        operation: 'readUserData',
        userId
      },
      queryError
    )
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ –≤ —Ç–µ—Å—Ç–∞—Ö

```javascript
import { checkErrorChain } from '../errors/errors.js'

test('–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫', () => {
  try {
    await operationThatFails()
  } catch (error) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å—é —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫
    checkErrorChain(error, [
      // –í–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å (–æ—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏)
      { 
        code: 'MODULE_OPERATION_FAILED',
        type: 'SystemError',
        message: 'operation failed'
      },
      // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏
      { 
        code: 'SYS_VALIDATION_FAILED',
        message: ['validation', 'failed']
      },
      // –ò—Å—Ö–æ–¥–Ω–∞—è –æ—à–∏–±–∫–∞
      { 
        type: 'TypeError',
        message: 'invalid type'
      }
    ])
  }
})
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```javascript
import { createLogger } from '@fab33/sys-logger'
const logger = createLogger('module')

try {
  await operation()
} catch (error) {
  // SystemError –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –ª–æ–≥–∞
  logger.error({ error }, 'Operation failed')
  
  // –î–æ—Å—Ç—É–ø–Ω–∞ –≤—Å—è —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
  console.log(error.format())
}
```



## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (SYS_LOGGER)

SystemError –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫
- –í–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –ª–æ–≥–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```javascript
logger.error({ error }, 'Operation failed')
// {
//   level: 'error',
//   code: 'MODULE_PROCESSING_FAILED',
//   message: 'Failed to process item-123: Data processing failed',
//   context: { item: 'item-123' },
//   original: {
//     code: 'DB_QUERY_FAILED',
//     message: '...'
//   }
// }
```

## üîç –û—Ç–ª–∞–¥–∫–∞

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥

–ú–µ—Ç–æ–¥ `format()` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–∏—Ç–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ:

```javascript
console.log(error.format())
// Operation failed: Cannot process item
// Context: { item: 'test', reason: 'invalid format' }
// Caused by: Validation failed: missing required fields
// Stack trace:
//   at processItem (/src/module.js:10:12)
//   ...
```

### –ê–Ω–∞–ª–∏–∑ —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫

```javascript
function analyzeError(error) {
  console.log('Error chain:')
  let current = error
  
  while (current) {
    console.log(`- ${current.code}: ${current.message}`)
    console.log('  Context:', current.context)
    current = current.original
  }
}
```

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–æ–∫**
   - –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ sensitive –¥–∞–Ω–Ω—ã–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–º–µ—Ä–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ
   - –ù–µ –≥–ª–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
   - –í—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É–π—Ç–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/catch –±–ª–æ–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - –ù–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
   - –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤
